<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" th:href="@{/img/logo/logo-shop.png}" />

    <title th:text="#{pet.html.title.name}"></title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <style>
      .material-symbols-rounded {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 48;
      }

      textarea:focus,
      input:focus {
        outline: none;
      }
    </style>

    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/history-style.css}" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  </head>

  <body>
    <!--nav nè-->
    <section id="header">
      <a th:href="@{/home}">
        <img th:src="@{/img/main_logo.png}" alt="" class="logo" />
      </a>

      <div>
        <ul id="navbar">
          <li><a th:href="@{/home}" th:text="#{pet.html.header.navbar.home}"></a></li>
          <li><a th:href="@{/search}" th:text="#{pet.html.header.navbar.search}"></a></li>
          <li><a th:href="@{/cart}" th:text="#{pet.html.header.navbar.cart}"></a></li>
          <li><a th:href="@{/about}" th:text="#{pet.html.header.navbar.about}"></a></li>
          <li><a th:href="@{/userInfo}" th:text="#{pet.html.header.navbar.userInfo}"></a></li>
          <li><a class="active" th:href="@{/history}" th:text="#{pet.html.header.navbar.history}"></a></li>
          <li><a href="javascript: document.logoutForm.submit()" th:text="#{pet.html.header.navbar.logout}"></a></li>
        </ul>
      </div>
      <div id="mobile">
        <a href="cart.html"><i class="far fa-shopping-bag"></i></a>
        <i id="bar" class="fas fa-outdent"></i>
      </div>
      <!--    logout-->
      <form th:action="@{/logout}" method="post" th:hidden="true" name="logoutForm">
        <input type="submit" value="Logout" />
      </form>
    </section>

    <!--lịch sử nè-->
    <div class="wrap cf">
      <h1 class="projTitle">Lịch sử mua hàng</h1>
      <div class="heading cf">
        <h1>Các don hang đã mua</h1>
        <a th:href="@{/search}" class="continue">Tiếp tục mua</a>
      </div>
      <div class="cart">
        <ul class="cartWrap">
          <li
            th:each="historyItemDtos, iterStat : ${historyItemDtos}"
            class="items"
            th:classappend="${iterStat.even}? 'odd' : 'even'"
          >
            <div class="infoWrap">
              <div class="cartSection">
                <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg" />
                <p th:text="*{historyItemDtos.id}" class="itemNumber"></p>
                <h3 th:text="*{historyItemDtos.firstProduct.name}"></h3>
                <input type="text" class="qty" readonly th:value="*{historyItemDtos.amount}" />
                <span class="vnd" th:text="*{historyItemDtos.firstProduct.price}"> x </span>
              </div>
            </div>

            <div class="prodTotal cartSection">
              <p th:text="*{historyItemDtos.totalPrice}"></p>
            </div>

            <div class="cartSection removeWrap">
              <a th:href="@{/history/detail(id=${historyItemDtos.id})}" class="remove">View details</a>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <!--footer nè-->
    <footer th:replace="fragments/footer.html :: footer()"></footer>

    <script th:src="@{/js/script.js}"></script>
    <script th:src="@{/js/cart.js}"></script>
  </body>
</html>
